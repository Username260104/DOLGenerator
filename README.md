# ğŸ§Š DOLGenerator (Figma Plugin)

**DOLGenerator**ëŠ” Figma í™˜ê²½ ë‚´ì—ì„œ AIë¥¼ í™œìš©í•´ ê³ í’ˆì§ˆ 3D ì—ì…‹ì„ ìƒì„±í•˜ê³  í¸ì§‘í•  ìˆ˜ ìˆëŠ” ì „ë¬¸ í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.
DOL ë¸Œëœë“œì˜ ë…ì°½ì ì¸ ë””ìì¸ ì–¸ì–´ë¥¼ ë°˜ì˜í•œ 3D ì•„ì´ì½˜ê³¼ ì˜¤ë¸Œì íŠ¸ë¥¼ ì†ì‰½ê²Œ ì œì‘í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥ (Key Features)

ì´ í”ŒëŸ¬ê·¸ì¸ì€ í¬ê²Œ **ìƒì„±(Create)** íƒ­ê³¼ **í¸ì§‘(Edit)** íƒ­ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### 1. Create íƒ­ (ì´ë¯¸ì§€ ìƒì„±)
ì‚¬ìš©ìì˜ ì•„ì´ë””ì–´ë¥¼ ê³ í’ˆì§ˆ 3D ë Œë”ë§ ì´ë¯¸ì§€ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.

*   **âœ¨ Prompt Enhancer (í”„ë¡¬í”„íŠ¸ ê°•í™”)**
    *   ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°„ë‹¨í•œ í‚¤ì›Œë“œë‚˜ ë¬¸ì¥ì„ **Gemini 2.5 Flash**ê°€ ë¶„ì„í•˜ì—¬, DOL ìŠ¤íƒ€ì¼(High-fidelity, 3D render, glossy textures ë“±)ì— ìµœì í™”ëœ ìƒì„¸ ì˜ë¬¸ í”„ë¡¬í”„íŠ¸ë¡œ ìë™ ë³€í™˜í•©ë‹ˆë‹¤.
    *   *System Prompt*: "High-fidelity 3D render icon, Data Moshing, floating white squares..." ë“± DOL ì „ìš© ìŠ¤íƒ€ì¼ ê°€ì´ë“œê°€ ì ìš©ë©ë‹ˆë‹¤.

*   **ğŸ¨ A.I Image Generation (DOL LoRA)**
    *   **Replicate Flux** ê¸°ë°˜ì˜ ì»¤ìŠ¤í…€ íŒŒì¸íŠœë‹ ëª¨ë¸(`username260104/dolfluxlora`)ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    *   íŠ¸ë¦¬ê±° ì›Œë“œ "in the style of DOL"ì´ ìë™ìœ¼ë¡œ ì£¼ì…ë˜ì–´ ë¸Œëœë“œ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.

*   **ğŸ–¼ï¸ Preview & Apply**
    *   ìƒì„±ëœ ì´ë¯¸ì§€ë¥¼ ì¦‰ì‹œ ìº”ë²„ìŠ¤ì— ë„£ì§€ ì•Šê³ , ë¯¸ë¦¬ë³´ê¸°(Preview)ë¥¼ í†µí•´ í™•ì¸ í›„ **Apply to Canvas** ë²„íŠ¼ìœ¼ë¡œ í™•ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2. Edit íƒ­ (ì´ë¯¸ì§€ í¸ì§‘)
Figma ìº”ë²„ìŠ¤ì— ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ì—¬ ë‹¤ì–‘í•œ í›„ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

*   **ğŸ§Š 3D Rotation (ì‹œì  íšŒì „)**
    *   **Qwen Image Edit Plus** ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ 2D ì´ë¯¸ì§€ë¥¼ 3D ë¬¼ì²´ì²˜ëŸ¼ ì¸ì‹í•˜ê³ , ì›í•˜ëŠ” ê°ë„(-180Â° ~ +180Â°)ë¡œ íšŒì „ì‹œí‚µë‹ˆë‹¤.
*   **âœ¨ Upscale (ê³ í•´ìƒë„ ë³€í™˜)**
    *   **Real-ESRGAN** ëª¨ë¸ì„ ì‚¬ìš©í•´ ì´ë¯¸ì§€ í•´ìƒë„ë¥¼ 2ë°°ë¡œ ì„ ëª…í•˜ê²Œ í™•ëŒ€í•©ë‹ˆë‹¤.
*   **âœ‚ï¸ Remove Background (ë°°ê²½ ì œê±°)**
    *   **Recraft** ëª¨ë¸ì„ í™œìš©í•˜ì—¬ ë°°ê²½ì„ íˆ¬ëª…(Transparent)í•˜ê²Œ ì œê±°í•©ë‹ˆë‹¤.
*   **ğŸ”„ Refine (ìì—°ì–´ ìˆ˜ì •)**
    *   **Flux Kontext Pro** ëª¨ë¸ì„ ì´ìš©í•´ í…ìŠ¤íŠ¸ ëª…ë ¹ì–´ë¡œ ì´ë¯¸ì§€ì˜ íŠ¹ì • ë¶€ë¶„ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ë””í…Œì¼ì„ ë³´ê°•í•©ë‹ˆë‹¤.

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Frontend (Plugin UI)
*   **React 19**: ìµœì‹  ë¦¬ì•¡íŠ¸ í›…ì„ í™œìš©í•œ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ UI ê°œë°œ.
*   **TypeScript**: ì •ì  íƒ€ì… ì‹œìŠ¤í…œì„ í†µí•œ ì•ˆì •ì ì¸ ì½”ë“œ êµ¬í˜„.
*   **Inline Styles**: Figma í”ŒëŸ¬ê·¸ì¸ì˜ ì—„ê²©í•œ CSP(Content Security Policy) ì¤€ìˆ˜ë¥¼ ìœ„í•´ CSS-in-JS íŒ¨í„´(Inline Styles) ì‚¬ìš©. (Tailwind CDN ë¯¸ì‚¬ìš©)
*   **Webpack 5**: `inline-chunk-html-plugin`ì„ í†µí•´ JS/CSSë¥¼ ë‹¨ì¼ HTML íŒŒì¼ë¡œ ë²ˆë“¤ë§í•˜ì—¬ Figma ìƒŒë“œë°•ìŠ¤ í™˜ê²½ì— ë°°í¬.

### Backend (Local Proxy Server)
*   **Node.js & Express.js**: ë¡œì»¬ í”„ë¡ì‹œ ì„œë²„(`server.js`) ìš´ì˜.
*   **Security**: API Key(Replicate, Gemini)ë¥¼ í´ë¼ì´ì–¸íŠ¸(UI)ì— ë…¸ì¶œí•˜ì§€ ì•Šê³  ì„œë²„ í™˜ê²½ë³€ìˆ˜(`.env`)ë¡œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬.
*   **Proxy Features**:
    *   **CORS ìš°íšŒ**: ë¸Œë¼ìš°ì € ë³´ì•ˆ ì •ì±…ì„ ìš°íšŒí•˜ì—¬ ì™¸ë¶€ AI API í˜¸ì¶œ.
    *   **Binary Proxy**: `arrayBuffer` ì²˜ë¦¬ë¥¼ í†µí•´ ì™¸ë¶€ ì´ë¯¸ì§€ URLì„ ë°”ì´ë„ˆë¦¬ ë°ì´í„°(Uint8Array)ë¡œ ë³€í™˜í•˜ì—¬ Figmaë¡œ ì „ë‹¬.

### AI Models (via Replicate & Google)
*   **Generator**: `username260104/dolfluxlora` (Flux-Schnell based LoRA)
*   **Enhancer**: Google `Gemini 2.5 Flash`
*   **Upscaler**: `nightmareai/real-esrgan`
*   **Remover**: `recraft-ai/recraft-remove-background`
*   **Refiner**: `black-forest-labs/flux-kontext-pro`
*   **Rotator**: `qwen/qwen-image-edit-plus`

---

## âš™ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

### 1. í™˜ê²½ ì„¤ì •
í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  API í‚¤ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
```env
REPLICATE_API_KEY=your_replicate_key
GEMINI_API_KEY=your_gemini_key
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
npm install
```

### 3. ë¡œì»¬ í”„ë¡ì‹œ ì„œë²„ ì‹¤í–‰
í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš© ì¤‘ì—ëŠ” ë°˜ë“œì‹œ ë¡œì»¬ ì„œë²„ê°€ ì¼œì ¸ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
```bash
npm run server
# http://localhost:3001 ì—ì„œ ì‹¤í–‰ë¨
```

### 4. í”ŒëŸ¬ê·¸ì¸ ë¹Œë“œ
```bash
npm run build
# dist/ui.html ìƒì„±
```

### 5. Figmaì—ì„œ ì‹¤í–‰
1.  Figma ì‹¤í–‰ > **Plugins** > **Development** > **Import plugin from manifest...**
2.  `manifest.json` íŒŒì¼ ì„ íƒ.
3.  í”ŒëŸ¬ê·¸ì¸ ì‹¤í–‰ (Run).
